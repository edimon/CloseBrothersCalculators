<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Flot Examples: Pie Charts</title>
	<style type="text/css">
	
	.labelChart{position:absolute;width:200px;left:50%;top:50%;margin-top:-10px; margin-left:-100px;text-align:center;font-weigh:bold;font-size:20px}

	.demo-container {
		position: relative;
		height: 400px;
		width:60%;
		margin-left:20%;
	}

	#placeholder {
		width: 100%;
		height:100%;
		background:red;
	}

	</style>
	<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script><![endif]-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script language="javascript" type="text/javascript" src="js/budget_planner/jquery.flot.js"></script>
	<script language="javascript" type="text/javascript" src="js/budget_planner/jquery.flot.pie.js"></script>
	<script src="js/budget_planner/jquery.flot.resize.js"></script>
	<script type="text/javascript">

	$(function() {

		var data = [],
		series = Math.floor(Math.random() * 6) + 3;

		for (var i = 0; i < series; i++) {
			data[i] = {
				label: "Series" + (i + 1),
				data: Math.floor(Math.random() * 100) + 1
			}
		}

		var placeholder = $("#placeholder");

		placeholder.unbind();

		$.plot(placeholder, data, {
			series: {
				pie: { 
					innerRadius: 0.4,
					show: true,
					label: {
						show: true,
						radius: 0.6,
						formatter: labelFormatter,
						background: {
							opacity: 1
						}
					}
				}
			},
			legend: {
				show: false
			}
		});
	

		
	});

	// A custom label formatter used by several of the plots

	function labelFormatter(label, series) {
		if(series.percent > 5){
			var width = 32;
			if(series.percent < 7){
				width = 16;
			}
			var src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADdElEQVRYR8WXXWgcVRTH/+fcmc1HU4NopVURYlEooVRUEHxSHwr1C4Wu0XzYSjYr0lSpFOPuokSX7KaQviRpdcPGKO6G2g1taZWKbcXnCjUP6oMERUEiWBvUmu5uZ86RGYmoBLObbWbv0zD33vP/zfm45w6hzoPqrA/qSU+FFc52Ug4URklUFKepOzVZZKaGenhCVS/Ts8PvqCfuupJmwmIQIEpoYeIBFXH/BlgoXt1wavD5i0EAhAcPbWxqbJoPFCA6nGm9+Nti87HUvvlAAbqSme1srDig9xZLpbsKb+yZCwwgmsnYVy5ZE0S0W1QO5GKRV70QBwIQTrx1S0OzPUOEn1x1R6/+OP954fDg5UAAOocyDxq28kIymh+IHACRX2lLY0090JXKvkLAPhJEBfqzJ1p2fv+mMPjypZoBwuGjIbP1l/Yjr7/wxX/Ldcfe0etu3NQ8JUq3uovFnWadvc2wdcpb54gbmY73TdYEEI1mmv9os44zcL8IvgZkrDzberRQeKr8zJsT7ZbNxwD6tHhh/Uveu67UxKNLAOJKXy4Rya4awP+6jes+Usa3pQvr++xtv+4whvsBbAVwHIKdQrqfVJUYD0NIhZ0ThkJHPNGaAJ6Mjd/Q0tL0sULP5+K9/SCijmSmTRyHQo329aT8tKi8P52IzvakJseJaY/vdnWes8iaqgnAy9ZQqOEsET5cquGOZGZzg23P+YZFRqB0hQg3C/QHBt10zQDCw5nbGtU6p4opiHwHQtJvWqoDtmXNeM+qelBFnmBjNrsiXzHos2sC0Jl8+w5j7DOiOJhP9I51p7P9TDzmu9Z1d1nGvLdmAB3JQ1tsK3QGitdy8T4/hoECdKYP365uqN2wEMB3ErTsupgzFqK+B4BRC3jRD4foCcPmPkA2ifL3AL5kkkf+yg8aY9a9/jro+HQsevZ/y7BcLt0NwUIQ9wHDZoMJWef/dR9YjbCr+glDLCLz0Gr2q6pD3UOTH4D1cShVfSklwiwERsk/kKob3qkFzFQt2pnK9jChdXk1WcjFovlqSKoG6EllHWI2y4mISjEXizTVD0C0lIv3Nq4ZgNfhGHySePmfGC+rReWxfCJ6ulKIikKwK/3uPS6cESZ+oBLDInJOVPZ7DWql9RUBdA9lBxRoW8nYP+eJMJeLR0ZW2lMRwEpGapmvO8Cf8FKlwyEBJJAAAAAASUVORK5CYII=';
			return '<img src="'+ src + '" width="'+width+'"/>';
		} else 
			return '';
		//return "<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>" + label + "<br/>" + Math.round(series.percent) + "%</div>";
	}

	

	</script>
</head>
<body>



	<div id="content">
		<div class="demo-container">
			<div id="placeholder" class="demo-placeholder"></div>
			<div class="labelChart">Fuckabascascascascasc<div>
		</div>

	</div>	

</body>
</html>
